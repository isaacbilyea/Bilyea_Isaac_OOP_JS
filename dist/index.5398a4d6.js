class e{constructor(e,t){this.container=document.querySelector("#media-board"),this.element=document.createElement("div"),this.caption=e,this.className=t,this.element.classList.add(t)}addToBoard(){this.container.appendChild(this.element),this.makeDraggable()}addImage(e){let t=document.createElement("img");return t.src=URL.createObjectURL(e),t.alt=this.caption,t.style.display="block",this.element.appendChild(t),t}addCaption(){let e=document.createElement("p");e.classList.add("caption"),e.textContent=this.caption,this.element.appendChild(e)}createContent(){this.addCaption(),this.addToBoard()}makeDraggable(){Draggable.create(this.element,{type:"x,y",inertia:!0,bounds:window,onDragStart:()=>{this.element.classList.add("dragging")},onDragEnd:()=>{this.element.classList.remove("dragging")}}),window.addEventListener("resize",()=>{Draggable.get(this.element).applyBounds()})}}class t extends e{constructor(e,t,a,n){super(t,n),this.imageFile=e,this.element.classList.add("photo-card"),this.date=a}createContent(){this.addImage(this.imageFile),this.addPhotoPlaque(),super.addToBoard()}addPhotoPlaque(){let e=document.createElement("div");e.classList.add("photo-plaque");let t=document.createElement("p");t.classList.add("caption"),t.textContent=this.caption,e.appendChild(t);let a=document.createElement("p");a.classList.add("date"),a.textContent=this.formatDate(),e.appendChild(a),this.element.appendChild(e)}formatDate(){return new Date(this.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"})}}class a extends e{constructor(e,t,a,n){super(t,n),this.imageFile=e,this.filter=a}createContent(){this.addImage(this.imageFile).classList.add(this.filter),super.createContent()}}class n extends e{constructor(e,t,a){super(e,a),this.colour=t}createContent(){this.element.style.backgroundColor=this.colour,super.createContent()}}class o extends e{constructor(e,t){super("",t),this.emoji=e}createContent(){this.element.textContent=this.emoji,this.addToBoard()}makeDraggable(){Draggable.create(this.element,{type:"x,y",inertia:!0,bounds:window,onDragStart:()=>{this.element.classList.add("dragging"),this.element.style.zIndex="2000"},onDragEnd:()=>{this.element.classList.remove("dragging")}}),window.addEventListener("resize",()=>{Draggable.get(this.element).applyBounds()})}}function r(){let e=document.querySelector("#modal-con"),t=document.querySelectorAll(".media-type-btn");document.querySelectorAll(".media-form, #sticker-form").forEach(e=>{e.style.display="none",e.classList.remove("active")}),e.classList.remove("active"),t.forEach(e=>e.classList.remove("active")),function(){let e=document.querySelector("#modal-con");gsap.to(e,{scale:.8,opacity:0,duration:.1,ease:"power2.out",onComplete:()=>{modal.style.display="none"}})}()}!function(){let e=document.querySelector("#photo-form"),i=document.querySelector("#polaroid-form"),s=document.querySelector("#note-form"),c=document.querySelector("#sticker-form");e.addEventListener("submit",function(a){a.preventDefault();let n=e.querySelector(".image-input"),o=e.querySelector(".caption-input"),i=e.querySelector("#photo-date");new t(n.files[0],o.value,i.value,"photo-card").createContent(),r(),e.reset()}),i.addEventListener("submit",function(e){e.preventDefault();let t=i.querySelector(".image-input"),n=i.querySelector(".caption-input"),o=i.querySelector("#filter");new a(t.files[0],n.value,o.value,"polaroid-card").createContent(),r(),i.reset()}),s.addEventListener("submit",function(e){e.preventDefault();let t=s.querySelector(".caption-input"),a=s.querySelector("#note-colour");new n(t.value,a.value,"sticky-note").createContent(),r(),s.reset()}),c.addEventListener("click",function(e){new o(e.target.dataset.emoji,"sticker").createContent(),r()})}(),function(){let e=document.querySelector("#modal"),t=document.querySelector("#media-board"),a=document.querySelectorAll(".media-form, #sticker-form"),n=document.querySelector("#add-media-btn"),o=document.querySelector("#reset-media-btn"),i=document.querySelectorAll(".media-type-btn"),s=document.querySelector("#close-modal"),c=document.querySelector("#controls-con");function l(){a.forEach(e=>{e.style.display="none",e.classList.remove("active")})}function d(e){let t=e.currentTarget,a=t.dataset.type;i.forEach(e=>{e.classList.remove("active")}),t.classList.add("active"),function(e){l();let t=document.querySelector(`#${e}-form`);t.style.display="flex",t.classList.add("active")}(a)}Draggable.create(c,{type:"x,y",inertia:!0,bounds:window,onDragStart:()=>{c.classList.add("dragging")},onDragEnd:()=>{c.classList.remove("dragging")}}),window.addEventListener("resize",()=>{Draggable.get(c).applyBounds()}),n.addEventListener("click",function(){l(),e.style.display="block",function(){let e=document.querySelector("#modal-con");gsap.fromTo(e,{scale:.8,opacity:1},{scale:1,opacity:1,duration:.2,ease:"elastic.out(1,0.5)"})}()}),o.addEventListener("click",function(){t.innerHTML=""}),s.addEventListener("click",r),e.addEventListener("click",function(t){t.target===e&&r()}),i.forEach(e=>{e.addEventListener("click",d)})}();
//# sourceMappingURL=index.5398a4d6.js.map
